# ybscheme

A simple scheme interpreter written in C.  
With basic unit tests (blackbox tests).  
First developed as two projects on two different systems. Then united in ybscheme.

#### Used Tools

[//]: # (Used technologies / techniques)

* Eclipse IDE for C/C++ developers, version 4.6.0 (Neon) with UnitTest support
* [Googletest 1.8](https://github.com/google/googletest)
* Built and tested on OSX El Capitan 10.11.6 using the GNU toolchain

#### Folder Structure
| folder | description |
|-----|-----|
| src | ybscheme C source and header files |
| test | unit tests (C++) for ybscheme |
| contrib | google test framework |
| Release | build folder for release |
| Debug | build folder for debug |
| UnitTest | build folder for unit tests |
**Note:** Hidden Eclipse project files located in root folder.

---

## How To

[//]: # (getting started, setup)

#### Set Up

1. [clone](https://github.com/yaelbz/ybscheme.git)
2. unzip
3. go to ybscheme root directory
4. make
5. run

#### Make Targets
**Note**: Delivered makefiles (except in root folder) have been generated by eclipse.

Build all configurations
```
$ make all
```
Run release build
```
$ make run
```
Run unit tests
```
$ make test
```
Clean all builds
```
$ make clean
```

---

## Features

#### Datatypes
* numbers, (integers, positive, negative)
 * decimal
 * binary
 * octal
 * hexadecimal
* strings
* true, false, nil, void
* symbols

#### Builtins
* builtin functions
 * +
 * -
 * *
 * /
 * eq?
 * =
 * eqv?
 * not
 * cons
 * car
 * cdr
* builtin syntax
 * quote
 * if
 * lambda
 * define


---

## ToDos and Ideas
#### In Progress
* Free dynamic allocated memory
* clean up

#### Future
##### ybscheme
* More datatypes like boolean, float, undefined constant
* More builtin functions like cos, sin, tan, sqrt, equal?, less than (<), greater than (>)
* More builtin syntax like list
* File stream as input
* Better feedback, e.g. concrete undefined message (undefined constant)
* Implement/Cleanup error handling
 * On error ignore rest of line to avoid consecutive errors
 * Ensure that error object is treated correctly by reader and evaluator in every situation (e.g. not stored in env)
 * Implement/Organize ErrorNums in enum

##### ybschemeTest
* Make more use of the test framework and write whitebox tests, currently implemented tests are more simple blackbox tests
* Implement failure tests, currently implemented tests are only basic 'good case' tests
* Currently all eval tests depend on ybreader. Would be better to test the evaluator without using the reader.
* Use own input stream instead of redirecting stdin.
* Implement tests for define und lambda
* Implement tests for environments
