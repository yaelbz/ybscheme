# ybscheme

A simple scheme interpreter written in C.  
With unit tests (blackbox tests).
First developed as two projects on two different systems. Then united in ybscheme.

#### Used tools

[//]: # (Used technologies / techniques)

* Eclipse IDE for C/C++ developers, version 4.6.0 (Neon) with UnitTest support
  * gcc for realease, g++ for unit tests
* [Googletest 1.8](https://github.com/google/googletest)
* Built and tested on OSX El Capitan 10.11.6

#### Folder structure
| folder | description |
|-----|-----|
| src | ybscheme C source and header files |
| test | unit tests (C++) for ybscheme |
| contrib | google test framework |
| Release | build folder for release |
| Debug | build folder for debug |
| UniTest | build folder for unit tests |
**Note:** Hidden Eclipse project files located in root folder.

---

## How to

[//]: # (getting started, setup)

#### Set up

1. clone
2. unzip
3. go to ybscheme root directory

#### then -> make
**Note**: Makefiles (except in root folder) are generated by eclipse.

Build all configurations
```
$ make all
```
Run release build
```
$ make run
```
Run unit tests
```
$ make test
```
Clean all builds
```
$ make clean
```

---

## Features

#### Datatypes
* numbers, positive and negative
 * decimal
 * binary
 * octal
 * hexadecimal
* strings
* true, false, nil, void
* symbols

#### Builtins
* builtin functions
 * +
 * -
 * *
 * /
 * eq?
 * =
 * eqv?
 * not
 * cons
 * car
 * cdr
* builtin syntax
 * quote
 * if
 * lambda
 * define

#### Other features
* Unread char stack
* Ignore comments
* Error object

---

## To dos and ideas
#### In progress
* Handle memory
 * Free dynamic allocated memory
* clean up

for later:
#### ybscheme
* More datatypes like bool, float, undefined constant
* More builtin functions like cos, sin, tan, sqrt, equal?, less than (<), greater than (>)
* More builtin syntax like list
* File stream as input
* Pimp the printer
 * print quote
 * print cons properly
* Detect incorrect user input, e.g. closing bracket without opening first
* Better feedback, e.g.
 * Concrete undefined message (undefined constant)
* Error handling
 * ErrorNums in enum
 * Return to main execution (and cleaning remaining input stream)
 * vs kill program
* Sources in libraries (dll)

#### ybschemeTest
* Currently all eval tests uses the ybreader. Would be better to be able to test only the eval without using the reader.
* Use own input stream instead of redirecting stdin.
* Test for define und lambda
* Tests for nested Environments
